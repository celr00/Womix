"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[249],{2249:(F,m,n)=>{n.r(m),n.d(m,{ServicesModule:()=>M});var a=n(6895),l=n(2559),u=n(3795),e=n(1571),v=n(6325),p=n(433),d=n(7696),h=n(9219);const f=["search"];function S(i,o){if(1&i&&(e.TgZ(0,"option",18),e._uU(1),e.qZA()),2&i){const t=o.$implicit,s=e.oxw(2);e.Q6J("selected",s.params.sort===t.value)("value",t.value),e.xp6(1),e.hij(" ",t.name," ")}}function x(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"li",19),e.NdJ("click",function(){const c=e.CHM(t).$implicit,O=e.oxw(2);return e.KtG(O.onCategorySelected(c.id))}),e._uU(1),e.qZA()}if(2&i){const t=o.$implicit,s=e.oxw(2);e.ekj("active",t.id===s.params.categoryId),e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function C(i,o){if(1&i&&(e.TgZ(0,"div",20),e._UZ(1,"app-card",21),e.qZA()),2&i){const t=o.$implicit;e.xp6(1),e.Q6J("item",t)("type","service")}}function _(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",22)(1,"app-pager",23),e.NdJ("pageChanged",function(r){e.CHM(t);const c=e.oxw(2);return e.KtG(c.onPageChanged(r))}),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("totalCount",t.totalCount)("pageSize",t.params.pageSize)("pageNumber",t.params.pageNumber)}}function y(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",3)(2,"h5",4),e._uU(3,"Sort"),e.qZA(),e.TgZ(4,"select",5),e.NdJ("change",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.onSortSelected(r))}),e.YNc(5,S,2,3,"option",6),e.qZA(),e.TgZ(6,"h5",4),e._uU(7,"Categories"),e.qZA(),e.TgZ(8,"ul",7,8),e.YNc(10,x,2,4,"li",9),e.qZA()(),e.TgZ(11,"div",10)(12,"div",11)(13,"input",12,13),e.NdJ("keyup.enter",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onSearch())}),e.qZA(),e.TgZ(15,"button",14),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onSearch())}),e._uU(16,"Search"),e.qZA(),e.TgZ(17,"button",15),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onReset())}),e._uU(18,"Reset"),e.qZA()(),e.TgZ(19,"div",2),e.YNc(20,C,2,2,"div",16),e.qZA(),e.YNc(21,_,2,3,"div",17),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.sortOptions),e.xp6(5),e.Q6J("ngForOf",t.categories),e.xp6(10),e.Q6J("ngForOf",t.services),e.xp6(1),e.Q6J("ngIf",t.totalCount>0)}}let Z=(()=>{class i{constructor(t,s,r){this.serviceService=t,this.route=s,this.renderer=r,this.totalCount=0,this.sortOptions=[{name:"Alphabetical",value:"name"},{name:"Price: Low to high",value:"priceAsc"},{name:"Price: High to low",value:"priceDesc"}],this.serviceService.resetParams(),this.params=t.getParams(),this.params.categoryId=this.route.snapshot.queryParams.category||0}ngOnInit(){this.loadServices(),this.loadCategories()}ngAfterViewChecked(){}loadServices(){this.serviceService.getAll().subscribe({next:t=>{this.services=t.data,this.totalCount=t.count}})}loadCategories(){this.serviceService.getCategories().subscribe({next:t=>{this.categories=t}})}onPageChanged(t){const s=this.serviceService.getParams();s.pageNumber!==t&&(s.pageNumber=t,this.serviceService.setParams(s),this.params=s,this.loadServices())}onSortSelected(t){const s=this.serviceService.getParams();s.sort=t.target.value,this.serviceService.setParams(s),this.params=s,this.loadServices()}onCategorySelected(t){const s=this.serviceService.getParams();s.categoryId=t,s.pageNumber=1,this.serviceService.setParams(s),this.params=s,this.loadServices()}onSearch(){const t=this.serviceService.getParams();t.search=this.searchTerm?.nativeElement.value,t.pageNumber=1,this.serviceService.setParams(t),this.params=t,this.loadServices()}onReset(){this.searchTerm&&(this.searchTerm.nativeElement.value=""),this.params=new u.M,this.serviceService.setParams(this.params),this.loadServices()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(v.r),e.Y36(l.gz),e.Y36(e.Qsj))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-services"]],viewQuery:function(t,s){if(1&t&&e.Gf(f,5),2&t){let r;e.iGM(r=e.CRH())&&(s.searchTerm=r.first)}},decls:2,vars:1,consts:[[1,"container-fluid","container-xxl"],["class","row",4,"ngIf"],[1,"row"],[1,"col-12","col-sm-4","col-md-3","col-lg-2"],[1,"text-info","ms-3"],[1,"form-select","mb-4",3,"change"],[3,"selected","value",4,"ngFor","ngForOf"],[1,"list-group","my-3","rounded-3","shadow-sm"],["categoryList",""],["class","list-group-item pointer",3,"active","value","click",4,"ngFor","ngForOf"],[1,"col-12","col-sm-8","col-md-9","col-lg-10"],[1,"d-flex","mt-2","mb-3"],["category","text","placeholder","Search",1,"form-control","me-2","bg-transparent",3,"keyup.enter"],["search",""],[1,"btn","btn-outline-primary","mx-2",3,"click"],[1,"btn","btn-outline-success",3,"click"],["class","col-6 col-md-4 col-lg-3",4,"ngFor","ngForOf"],["class","d-flex justify-content-center",4,"ngIf"],[3,"selected","value"],[1,"list-group-item","pointer",3,"value","click"],[1,"col-6","col-md-4","col-lg-3"],[3,"item","type"],[1,"d-flex","justify-content-center"],[3,"totalCount","pageSize","pageNumber","pageChanged"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0),e.YNc(1,y,22,4,"div",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",s.categories&&s.services))},dependencies:[a.sg,a.O5,p.YN,p.Kr,d.P,h.A]}),i})();var g=n(9105),T=n(8909),b=n(1584),A=n(3968);function w(i,o){if(1&i&&(e.TgZ(0,"div",7),e._UZ(1,"ngx-gallery",8),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("options",t.galleryOptions)("images",t.galleryImages)}}function N(i,o){if(1&i&&(e.TgZ(0,"div",1)(1,"div",2)(2,"div",3),e.YNc(3,w,2,2,"div",4),e.qZA(),e.TgZ(4,"div",5),e._UZ(5,"app-detail",6),e.qZA()()()),2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",t.showGallery()),e.xp6(2),e.Q6J("item",t.service)("type","service")}}const J=[{path:"",component:Z},{path:":id",component:(()=>{class i{constructor(t,s,r,c){this.route=t,this.serviceService=s,this.bcService=r,this.userService=c,this.galleryOptions=[],this.galleryImages=[],this.id=Number(this.route.snapshot.paramMap.get("id")),this.galleryOptions=[{imagePercent:100,thumbnailsColumns:4,imageAnimation:g.zw.Slide,preview:!0,imageSwipe:!0,thumbnailsSwipe:!0,previewCloseOnClick:!0,previewCloseOnEsc:!0,thumbnailMargin:0,thumbnailsMargin:0,previewKeyboardNavigation:!0}]}ngOnInit(){this.loadService()}loadService(){this.serviceService.getById(this.id).subscribe({next:t=>{this.service=t,this.bcService.set("@servicesDetailPage",t.name),this.galleryImages=this.defineGalleryImages()}})}defineGalleryImages(){if(!this.service)return[];if(0===this.service.servicePhotos.length)return[];const t=[],s=[];this.service.servicePhotos.forEach(r=>{s.push(r.photo)});for(const r of s)t.push({small:r.url,medium:r.url,big:r.url});return t}showGallery(){return this.galleryImages.length>0}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(l.gz),e.Y36(v.r),e.Y36(T.pm),e.Y36(b.K))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],decls:1,vars:1,consts:[["class","container-fluid container-xxl",4,"ngIf"],[1,"container-fluid","container-xxl"],[1,"row"],[1,"col-12","col-sm-6","col-lg-5","mb-3"],["class","gallery-viewer",4,"ngIf"],[1,"col-12","col-sm-6","col-lg-7","mb-3"],[3,"item","type"],[1,"gallery-viewer"],[1,"ngx-gallery",3,"options","images"]],template:function(t,s){1&t&&e.YNc(0,N,6,3,"div",0),2&t&&e.Q6J("ngIf",s.service)},dependencies:[a.O5,g.g$,A.J]}),i})(),data:{breadcrumb:{alias:"servicesDetailPage"}}}];let P=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[l.Bz.forChild(J),l.Bz]}),i})();var I=n(4466);let M=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[a.ez,P,I.m]}),i})()}}]);