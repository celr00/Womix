"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[642],{8642:(_,m,r)=>{r.r(m),r.d(m,{ListModule:()=>k});var n=r(6895),c=r(2559),l=r(6590),t=r(1571),p=r(7573),h=r(5329),u=r(8909),d=r(7696);const b=["search"];function g(e,o){if(1&e&&(t.TgZ(0,"tr",10)(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"currency"),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA()()),2&e){const s=o.$implicit;t.MGl("routerLink","/account/jobs/list/",s.id,""),t.xp6(2),t.hij(" ",s.id," "),t.xp6(2),t.hij(" ",s.name," "),t.xp6(2),t.hij(" ",s.description," "),t.xp6(2),t.hij(" ",t.lcZ(9,6,s.salary)," "),t.xp6(3),t.hij(" ",s.jobArea.area.name," ")}}function C(e,o){if(1&e){const s=t.EpF();t.TgZ(0,"table",7)(1,"thead")(2,"tr")(3,"th",8),t.NdJ("click",function(){t.CHM(s);const i=t.oxw();return t.KtG(i.onIdClick())}),t._uU(4,"#"),t.qZA(),t.TgZ(5,"th",8),t.NdJ("click",function(){t.CHM(s);const i=t.oxw();return t.KtG(i.onNameClick())}),t._uU(6,"Name"),t.qZA(),t.TgZ(7,"th",8),t.NdJ("click",function(){t.CHM(s);const i=t.oxw();return t.KtG(i.onDescriptionClick())}),t._uU(8,"Description"),t.qZA(),t.TgZ(9,"th",8),t.NdJ("click",function(){t.CHM(s);const i=t.oxw();return t.KtG(i.onSalaryClick())}),t._uU(10,"Salary"),t.qZA(),t.TgZ(11,"th",8),t.NdJ("click",function(){t.CHM(s);const i=t.oxw();return t.KtG(i.onAreaClick())}),t._uU(12,"Area"),t.qZA()()(),t.TgZ(13,"tbody"),t.YNc(14,g,12,8,"tr",9),t.qZA()()}if(2&e){const s=t.oxw();t.xp6(14),t.Q6J("ngForOf",s.jobs)}}function v(e,o){if(1&e){const s=t.EpF();t.TgZ(0,"div",11)(1,"app-pager",12),t.NdJ("pageChanged",function(i){t.CHM(s);const A=t.oxw();return t.KtG(A.onPageChanged(i))}),t.qZA()()}if(2&e){const s=t.oxw();t.xp6(1),t.Q6J("totalCount",s.totalCount)("pageSize",s.params.pageSize)("pageNumber",s.params.pageNumber)}}const f=[{path:"",component:(()=>{class e{constructor(s,a,i){this.jobService=s,this.accountService=a,this.bcService=i,this.totalCount=0,this.user={},this.jobService.resetParams(),this.params=this.jobService.getParams(),this.bcService.set("@jobsListComponentBreadcrumbTitle","My jobs")}ngOnInit(){this.loadUser()}loadUser(){this.accountService.getUser().subscribe({next:s=>{this.user=s},complete:()=>{this.params.userId=this.user.id,this.params.pageSize=12,this.jobService.setParams(this.params),this.loadJobs()}})}loadJobs(){this.jobService.getAll().subscribe({next:s=>{this.jobs=s.data,this.totalCount=s.count}})}onPageChanged(s){const a=this.jobService.getParams();a.pageNumber!==s&&(a.pageNumber=s,this.jobService.setParams(a),this.params=a,this.loadJobs())}onIdClick(){switch(this.params.sort){case"idDesc":default:this.params.sort="idAsc",this.jobService.setParams(this.params);break;case"idAsc":this.params.sort="idDesc",this.jobService.setParams(this.params)}this.loadJobs()}onNameClick(){switch(this.params.sort){case"nameDesc":default:this.params.sort="nameAsc",this.jobService.setParams(this.params);break;case"nameAsc":this.params.sort="nameDesc",this.jobService.setParams(this.params)}this.loadJobs()}onDescriptionClick(){switch(this.params.sort){case"descriptionDesc":default:this.params.sort="descriptionAsc",this.jobService.setParams(this.params);break;case"descriptionAsc":this.params.sort="descriptionDesc",this.jobService.setParams(this.params)}this.loadJobs()}onAreaClick(){switch(this.params.sort){case"areaDesc":default:this.params.sort="areaAsc",this.jobService.setParams(this.params);break;case"areaAsc":this.params.sort="areaDesc",this.jobService.setParams(this.params)}this.loadJobs()}onSalaryClick(){switch(this.params.sort){case"salaryDesc":default:this.params.sort="salaryAsc",this.jobService.setParams(this.params);break;case"salaryAsc":this.params.sort="salaryDesc",this.jobService.setParams(this.params)}this.loadJobs()}onSearch(){const s=this.jobService.getParams();s.search=this.searchTerm?.nativeElement.value,s.pageNumber=1,this.jobService.setParams(s),this.params=s,this.loadJobs()}onReset(){this.searchTerm&&(this.searchTerm.nativeElement.value=""),this.params=new l.R,this.jobService.setParams(this.params),this.loadJobs()}}return e.\u0275fac=function(s){return new(s||e)(t.Y36(p.e),t.Y36(h.B),t.Y36(u.pm))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-list"]],viewQuery:function(s,a){if(1&s&&t.Gf(b,5),2&s){let i;t.iGM(i=t.CRH())&&(a.searchTerm=i.first)}},inputs:{jobs:"jobs"},decls:9,vars:2,consts:[[1,"d-flex","mt-2","mb-3"],["type","text","placeholder","Search",1,"form-control","me-2","bg-transparent",3,"keyup.enter"],["search",""],[1,"btn","btn-outline-primary","mx-2",3,"click"],[1,"btn","btn-outline-success",3,"click"],["class","table",4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],[1,"table"],["scope","col pointer",3,"click"],["class","pointer",3,"routerLink",4,"ngFor","ngForOf"],[1,"pointer",3,"routerLink"],[1,"d-flex","justify-content-center"],[3,"totalCount","pageSize","pageNumber","pageChanged"]],template:function(s,a){1&s&&(t.TgZ(0,"div",0)(1,"input",1,2),t.NdJ("keyup.enter",function(){return a.onSearch()}),t.qZA(),t.TgZ(3,"button",3),t.NdJ("click",function(){return a.onSearch()}),t._uU(4,"Search"),t.qZA(),t.TgZ(5,"button",4),t.NdJ("click",function(){return a.onReset()}),t._uU(6,"Reset"),t.qZA()(),t.YNc(7,C,15,1,"table",5),t.YNc(8,v,2,3,"div",6)),2&s&&(t.xp6(7),t.Q6J("ngIf",a.user),t.xp6(1),t.Q6J("ngIf",a.totalCount>0))},dependencies:[n.sg,n.O5,c.rH,d.P,n.H9],styles:["th[_ngcontent-%COMP%]{cursor:pointer!important}"]}),e})(),data:{breadcrumb:{alias:"jobsListComponentBreadcrumbTitle"}}},{path:":id",loadChildren:()=>Promise.all([r.e(592),r.e(427)]).then(r.bind(r,9427)).then(e=>e.ItemModule),data:{breadcrumb:{alias:"jobItemComponentBreadcrumbTitle"}}}];let j=(()=>{class e{}return e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.Bz.forChild(f),c.Bz]}),e})();var S=r(4466);let k=(()=>{class e{}return e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[n.ez,j,S.m]}),e})()}}]);