"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[196],{8196:(w,m,a)=>{a.r(m),a.d(m,{ListModule:()=>P});var o=a(6895),l=a(2559),h=a(3795),e=a(1571),d=a(6325),u=a(5329),v=a(8909),g=a(7696),_=a(9219);const f=["search"];function b(s,c){if(1&s&&(e.TgZ(0,"div",14),e._UZ(1,"app-card",15),e.qZA()),2&s){const t=c.$implicit;e.xp6(1),e.Q6J("item",t)("type","service")}}function C(s,c){if(1&s&&(e.TgZ(0,"div",12),e.YNc(1,b,2,2,"div",13),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.services)}}function T(s,c){if(1&s){const t=e.EpF();e.TgZ(0,"div",18),e.NdJ("keyup.enter",function(){const n=e.CHM(t).$implicit,p=e.oxw(2);return e.KtG(p.visit(n.id))}),e.TgZ(1,"div")(2,"span",19),e._uU(3),e.qZA(),e.TgZ(4,"span",20),e._uU(5),e.qZA()(),e.TgZ(6,"div")(7,"span"),e._uU(8),e.qZA()(),e.TgZ(9,"div",12)(10,"div",21)(11,"span",22),e._uU(12),e.qZA()(),e.TgZ(13,"div",23)(14,"span",24),e._uU(15),e.ALo(16,"currency"),e.qZA()()()()}if(2&s){const t=c.$implicit;e.MGl("routerLink","/account/services/list/",t.id,""),e.xp6(3),e.hij(" ",t.id," "),e.xp6(2),e.hij(" ",t.name," "),e.xp6(3),e.hij(" ",t.description," "),e.xp6(4),e.hij(" ",t.serviceCategory.category.name," "),e.xp6(3),e.hij(" ",e.lcZ(16,6,t.price)," ")}}function k(s,c){if(1&s&&(e.TgZ(0,"div",16),e.YNc(1,T,17,8,"div",17),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.services)}}function x(s,c){if(1&s){const t=e.EpF();e.TgZ(0,"tr",28),e.NdJ("keyup.enter",function(){const n=e.CHM(t).$implicit,p=e.oxw(2);return e.KtG(p.visit(n.id))}),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.ALo(9,"currency"),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA()()}if(2&s){const t=c.$implicit;e.MGl("routerLink","/account/services/list/",t.id,""),e.xp6(2),e.hij(" ",t.id," "),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",t.description," "),e.xp6(2),e.hij(" ",e.lcZ(9,6,t.price)," "),e.xp6(3),e.hij(" ",t.serviceCategory.category.name," ")}}function Z(s,c){if(1&s){const t=e.EpF();e.TgZ(0,"table",25)(1,"thead")(2,"tr")(3,"th",26),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onIdClick())}),e._uU(4,"#"),e.qZA(),e.TgZ(5,"th",26),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onNameClick())}),e._uU(6,"Name"),e.qZA(),e.TgZ(7,"th",26),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onDescriptionClick())}),e._uU(8,"Description"),e.qZA(),e.TgZ(9,"th",26),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onPriceClick())}),e._uU(10,"Price"),e.qZA(),e.TgZ(11,"th",26),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onCategoryClick())}),e._uU(12,"Category"),e.qZA()()(),e.TgZ(13,"tbody"),e.YNc(14,x,12,8,"tr",27),e.qZA()()}if(2&s){const t=e.oxw();e.xp6(14),e.Q6J("ngForOf",t.services)}}function S(s,c){if(1&s){const t=e.EpF();e.TgZ(0,"div",29)(1,"app-pager",30),e.NdJ("pageChanged",function(r){e.CHM(t);const n=e.oxw();return e.KtG(n.onPageChanged(r))}),e.qZA()()}if(2&s){const t=e.oxw();e.xp6(1),e.Q6J("totalCount",t.totalCount)("pageSize",t.params.pageSize)("pageNumber",t.params.pageNumber)}}const A=[{path:"",component:(()=>{class s{constructor(t,i,r,n){this.serviceService=t,this.accountService=i,this.bcService=r,this.router=n,this.services=[],this.totalCount=0,this.showTable=!0,this.serviceService.resetParams(),this.params=this.serviceService.getParams(),this.bcService.set("@servicesListTitle","My services"),this.accountId=this.accountService.getAccountId()}ngOnInit(){this.params.userId=this.accountId,this.params.pageSize=12,this.serviceService.setParams(this.params),this.loadServices()}loadServices(){this.serviceService.getAll().subscribe({next:t=>{this.services=t.data,this.totalCount=t.count}})}onPageChanged(t){const i=this.serviceService.getParams();i.pageNumber!==t&&(i.pageNumber=t,this.serviceService.setParams(i),this.params=i,this.loadServices())}onIdClick(){switch(this.params.sort){case"idDesc":default:this.params.sort="idAsc",this.serviceService.setParams(this.params);break;case"idAsc":this.params.sort="idDesc",this.serviceService.setParams(this.params)}this.loadServices()}onNameClick(){switch(this.params.sort){case"nameDesc":default:this.params.sort="nameAsc",this.serviceService.setParams(this.params);break;case"nameAsc":this.params.sort="nameDesc",this.serviceService.setParams(this.params)}this.loadServices()}onDescriptionClick(){switch(this.params.sort){case"descriptionDesc":default:this.params.sort="descriptionAsc",this.serviceService.setParams(this.params);break;case"descriptionAsc":this.params.sort="descriptionDesc",this.serviceService.setParams(this.params)}this.loadServices()}onCategoryClick(){switch(this.params.sort){case"categoryDesc":default:this.params.sort="categoryAsc",this.serviceService.setParams(this.params);break;case"categoryAsc":this.params.sort="categoryDesc",this.serviceService.setParams(this.params)}this.loadServices()}onPriceClick(){switch(this.params.sort){case"priceDesc":default:this.params.sort="priceAsc",this.serviceService.setParams(this.params);break;case"priceAsc":this.params.sort="priceDesc",this.serviceService.setParams(this.params)}this.loadServices()}onSearch(){const t=this.serviceService.getParams();t.search=this.searchTerm?.nativeElement.value,t.pageNumber=1,this.serviceService.setParams(t),this.params=t,this.loadServices()}onReset(){this.searchTerm&&(this.searchTerm.nativeElement.value=""),this.params=new h.M,this.params.userId=this.accountId,this.params.pageSize=12,this.serviceService.setParams(this.params),this.loadServices()}visit(t){this.router.navigateByUrl(`/account/services/list/${t}`)}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(d.r),e.Y36(u.B),e.Y36(v.pm),e.Y36(l.F0))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-list"]],viewQuery:function(t,i){if(1&t&&e.Gf(f,5),2&t){let r;e.iGM(r=e.CRH())&&(i.searchTerm=r.first)}},decls:13,vars:8,consts:[[1,"d-flex","mt-2","mb-3"],["category","text","placeholder","Encontrar",1,"form-control","me-2","bg-transparent",3,"keyup.enter"],["search",""],[1,"btn","btn-outline-info","mx-2",3,"click"],[1,"bi","bi-search"],[1,"btn","btn-outline-success","me-2",3,"click"],[1,"bi","bi-arrow-clockwise"],[1,"btn","btn-outline-secondary",3,"click"],["class","row",4,"ngIf"],["class","d-md-none",4,"ngIf"],["class","table d-none d-md-block",4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],[1,"row"],["class","col-6 col-md-4 col-lg-3",4,"ngFor","ngForOf"],[1,"col-6","col-md-4","col-lg-3"],[3,"item","type"],[1,"d-md-none"],["class","pointer mobile-row row p-3","tabindex","0",3,"routerLink","keyup.enter",4,"ngFor","ngForOf"],["tabindex","0",1,"pointer","mobile-row","row","p-3",3,"routerLink","keyup.enter"],[1,"text-muted","fw-semibold","fst-italic","me-2"],[1,"fs-5","fw-light"],[1,"col"],[1,"fw-light","fst-italic","text-info"],[1,"col","d-flex","justify-content-end"],[1,"text-success"],[1,"table","d-none","d-md-block"],["scope","col pointer",3,"click"],["class","pointer table-row","tabindex","0",3,"routerLink","keyup.enter",4,"ngFor","ngForOf"],["tabindex","0",1,"pointer","table-row",3,"routerLink","keyup.enter"],[1,"d-flex","justify-content-center"],[3,"totalCount","pageSize","pageNumber","pageChanged"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"input",1,2),e.NdJ("keyup.enter",function(){return i.onSearch()}),e.qZA(),e.TgZ(3,"button",3),e.NdJ("click",function(){return i.onSearch()}),e._UZ(4,"i",4),e.qZA(),e.TgZ(5,"button",5),e.NdJ("click",function(){return i.onReset()}),e._UZ(6,"i",6),e.qZA(),e.TgZ(7,"button",7),e.NdJ("click",function(){return i.showTable=!i.showTable}),e._UZ(8,"i"),e.qZA()(),e.YNc(9,C,2,1,"div",8),e.YNc(10,k,2,1,"div",9),e.YNc(11,Z,15,1,"table",10),e.YNc(12,S,2,3,"div",11)),2&t&&(e.xp6(8),e.ekj("bi-grid",i.showTable)("bi-list-ul",!i.showTable),e.xp6(1),e.Q6J("ngIf",!i.showTable),e.xp6(1),e.Q6J("ngIf",i.showTable),e.xp6(1),e.Q6J("ngIf",i.showTable),e.xp6(1),e.Q6J("ngIf",i.totalCount>0))},dependencies:[o.sg,o.O5,l.rH,g.P,_.A,o.H9],styles:["th[_ngcontent-%COMP%]{cursor:pointer!important}.mobile-row[_ngcontent-%COMP%]:focus, .table-row[_ngcontent-%COMP%]:focus{background-color:#006a8c}.mobile-row[_ngcontent-%COMP%]:focus   *[_ngcontent-%COMP%], .table-row[_ngcontent-%COMP%]:focus   *[_ngcontent-%COMP%]{color:#fff!important}"]}),s})(),data:{breadcrumb:{alias:"servicesListTitle"}}},{path:":id",loadChildren:()=>Promise.all([a.e(592),a.e(226)]).then(a.bind(a,1226)).then(s=>s.ItemModule),data:{breadcrumb:{alias:"serviceNameTitle"}}}];let y=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[l.Bz.forChild(A),l.Bz]}),s})();var L=a(4466);let P=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[o.ez,y,L.m]}),s})()}}]);