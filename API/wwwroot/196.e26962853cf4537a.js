"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[196],{8196:(A,m,a)=>{a.r(m),a.d(m,{ListModule:()=>_});var n=a(6895),o=a(2559),p=a(3795),e=a(1571),h=a(6325),l=a(5329),u=a(8909),v=a(7696);const d=["search"];function g(s,c){if(1&s&&(e.TgZ(0,"tr",10)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.ALo(9,"currency"),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA()()),2&s){const t=c.$implicit;e.MGl("routerLink","/account/services/list/",t.id,""),e.xp6(2),e.hij(" ",t.id," "),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",t.description," "),e.xp6(2),e.hij(" ",e.lcZ(9,6,t.price)," "),e.xp6(3),e.hij(" ",t.serviceCategory.category.name," ")}}function C(s,c){if(1&s){const t=e.EpF();e.TgZ(0,"table",7)(1,"thead")(2,"tr")(3,"th",8),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onIdClick())}),e._uU(4,"#"),e.qZA(),e.TgZ(5,"th",8),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onNameClick())}),e._uU(6,"Name"),e.qZA(),e.TgZ(7,"th",8),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onDescriptionClick())}),e._uU(8,"Description"),e.qZA(),e.TgZ(9,"th",8),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onPriceClick())}),e._uU(10,"Price"),e.qZA(),e.TgZ(11,"th",8),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onCategoryClick())}),e._uU(12,"Category"),e.qZA()()(),e.TgZ(13,"tbody"),e.YNc(14,g,12,8,"tr",9),e.qZA()()}if(2&s){const t=e.oxw();e.xp6(14),e.Q6J("ngForOf",t.services)}}function S(s,c){if(1&s){const t=e.EpF();e.TgZ(0,"div",11)(1,"app-pager",12),e.NdJ("pageChanged",function(r){e.CHM(t);const T=e.oxw();return e.KtG(T.onPageChanged(r))}),e.qZA()()}if(2&s){const t=e.oxw();e.xp6(1),e.Q6J("totalCount",t.totalCount)("pageSize",t.params.pageSize)("pageNumber",t.params.pageNumber)}}const f=[{path:"",component:(()=>{class s{constructor(t,i,r){this.serviceService=t,this.accountService=i,this.bcService=r,this.user={},this.services=[],this.totalCount=0,this.serviceService.resetParams(),this.params=this.serviceService.getParams(),this.bcService.set("@servicesListTitle","My services")}ngOnInit(){this.loadUser()}loadUser(){this.accountService.getUser().subscribe({next:t=>{this.user=t},complete:()=>{this.params.userId=this.user.id,this.params.pageSize=12,this.serviceService.setParams(this.params),this.loadServices()}})}loadServices(){this.serviceService.getAll().subscribe({next:t=>{this.services=t.data,this.totalCount=t.count}})}onPageChanged(t){const i=this.serviceService.getParams();i.pageNumber!==t&&(i.pageNumber=t,this.serviceService.setParams(i),this.params=i,this.loadServices())}onIdClick(){switch(this.params.sort){case"idDesc":default:this.params.sort="idAsc",this.serviceService.setParams(this.params);break;case"idAsc":this.params.sort="idDesc",this.serviceService.setParams(this.params)}this.loadServices()}onNameClick(){switch(this.params.sort){case"nameDesc":default:this.params.sort="nameAsc",this.serviceService.setParams(this.params);break;case"nameAsc":this.params.sort="nameDesc",this.serviceService.setParams(this.params)}this.loadServices()}onDescriptionClick(){switch(this.params.sort){case"descriptionDesc":default:this.params.sort="descriptionAsc",this.serviceService.setParams(this.params);break;case"descriptionAsc":this.params.sort="descriptionDesc",this.serviceService.setParams(this.params)}this.loadServices()}onCategoryClick(){switch(this.params.sort){case"categoryDesc":default:this.params.sort="categoryAsc",this.serviceService.setParams(this.params);break;case"categoryAsc":this.params.sort="categoryDesc",this.serviceService.setParams(this.params)}this.loadServices()}onPriceClick(){switch(this.params.sort){case"priceDesc":default:this.params.sort="priceAsc",this.serviceService.setParams(this.params);break;case"priceAsc":this.params.sort="priceDesc",this.serviceService.setParams(this.params)}this.loadServices()}onSearch(){const t=this.serviceService.getParams();t.search=this.searchTerm?.nativeElement.value,t.pageNumber=1,this.serviceService.setParams(t),this.params=t,this.loadServices()}onReset(){this.searchTerm&&(this.searchTerm.nativeElement.value=""),this.params=new p.M,this.params.userId=this.user.id,this.params.pageSize=12,this.serviceService.setParams(this.params),this.loadServices()}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(h.r),e.Y36(l.B),e.Y36(u.pm))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-list"]],viewQuery:function(t,i){if(1&t&&e.Gf(d,5),2&t){let r;e.iGM(r=e.CRH())&&(i.searchTerm=r.first)}},decls:9,vars:2,consts:[[1,"d-flex","mt-2","mb-3"],["category","text","placeholder","Search",1,"form-control","me-2","bg-transparent",3,"keyup.enter"],["search",""],[1,"btn","btn-outline-primary","mx-2",3,"click"],[1,"btn","btn-outline-success",3,"click"],["class","table",4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],[1,"table"],["scope","col pointer",3,"click"],["class","pointer",3,"routerLink",4,"ngFor","ngForOf"],[1,"pointer",3,"routerLink"],[1,"d-flex","justify-content-center"],[3,"totalCount","pageSize","pageNumber","pageChanged"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"input",1,2),e.NdJ("keyup.enter",function(){return i.onSearch()}),e.qZA(),e.TgZ(3,"button",3),e.NdJ("click",function(){return i.onSearch()}),e._uU(4,"Search"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return i.onReset()}),e._uU(6,"Reset"),e.qZA()(),e.YNc(7,C,15,1,"table",5),e.YNc(8,S,2,3,"div",6)),2&t&&(e.xp6(7),e.Q6J("ngIf",i.user),e.xp6(1),e.Q6J("ngIf",i.totalCount>0))},dependencies:[n.sg,n.O5,o.rH,v.P,n.H9],styles:["th[_ngcontent-%COMP%]{cursor:pointer!important}"]}),s})(),data:{breadcrumb:{alias:"servicesListTitle"}}},{path:":id",loadChildren:()=>Promise.all([a.e(592),a.e(226)]).then(a.bind(a,1226)).then(s=>s.ItemModule),data:{breadcrumb:{alias:"serviceNameTitle"}}}];let b=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[o.Bz.forChild(f),o.Bz]}),s})();var k=a(4466);let _=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[n.ez,b,k.m]}),s})()}}]);