"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[988],{3988:(w,d,i)=>{i.r(d),i.d(d,{AccountProductsListModule:()=>y});var a=i(6895),u=i(2559),l=i(4020),t=i(1571),m=i(5528),h=i(5329),_=i(8909),g=i(7696),f=i(9219);const P=["search"];function A(e,r){if(1&e&&(t.TgZ(0,"div",13),t._UZ(1,"app-card",14),t.qZA()),2&e){const s=r.$implicit;t.xp6(1),t.Q6J("item",s)("type","product")}}function C(e,r){if(1&e&&(t.TgZ(0,"div",11),t.YNc(1,A,2,2,"div",12),t.qZA()),2&e){const s=t.oxw();t.xp6(1),t.Q6J("ngForOf",s.products)}}function v(e,r){if(1&e){const s=t.EpF();t.TgZ(0,"div",17),t.NdJ("keyup.enter",function(){const n=t.CHM(s).$implicit,p=t.oxw(2);return t.KtG(p.visit(n.id))}),t.TgZ(1,"div")(2,"span",18),t._uU(3),t.qZA(),t.TgZ(4,"span",19),t._uU(5),t.qZA()(),t.TgZ(6,"div")(7,"span"),t._uU(8),t.qZA()(),t.TgZ(9,"div",11)(10,"div",20)(11,"span",21),t._uU(12),t.qZA()(),t.TgZ(13,"div",22)(14,"span",23),t._uU(15),t.ALo(16,"currency"),t.qZA()()()()}if(2&e){const s=r.$implicit;t.MGl("routerLink","/account/products/list/",s.id,""),t.xp6(3),t.hij(" ",s.id," "),t.xp6(2),t.hij(" ",s.name," "),t.xp6(3),t.hij(" ",s.description," "),t.xp6(4),t.hij(" ",s.productItemClass.itemClass.name," "),t.xp6(3),t.hij(" ",t.lcZ(16,6,s.price)," ")}}function b(e,r){if(1&e&&(t.TgZ(0,"div",15),t.YNc(1,v,17,8,"div",16),t.qZA()),2&e){const s=t.oxw();t.xp6(1),t.Q6J("ngForOf",s.products)}}function k(e,r){if(1&e){const s=t.EpF();t.TgZ(0,"tr",27),t.NdJ("keyup.enter",function(){const n=t.CHM(s).$implicit,p=t.oxw(2);return t.KtG(p.visit(n.id))}),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"currency"),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA()()}if(2&e){const s=r.$implicit;t.MGl("routerLink","/account/products/list/",s.id,""),t.xp6(2),t.hij(" ",s.id," "),t.xp6(2),t.hij(" ",s.name," "),t.xp6(2),t.hij(" ",s.description," "),t.xp6(2),t.hij(" ",t.lcZ(9,7,s.price)," "),t.xp6(3),t.hij(" ",s.productItemClass.itemClass.name," "),t.xp6(2),t.hij(" ",s.stockQuantity," ")}}function T(e,r){if(1&e){const s=t.EpF();t.TgZ(0,"table",24)(1,"thead")(2,"tr")(3,"th",25),t.NdJ("click",function(){t.CHM(s);const o=t.oxw();return t.KtG(o.onIdClick())}),t._uU(4,"#"),t.qZA(),t.TgZ(5,"th",25),t.NdJ("click",function(){t.CHM(s);const o=t.oxw();return t.KtG(o.onNameClick())}),t._uU(6,"Name"),t.qZA(),t.TgZ(7,"th",25),t.NdJ("click",function(){t.CHM(s);const o=t.oxw();return t.KtG(o.onDescriptionClick())}),t._uU(8,"Description"),t.qZA(),t.TgZ(9,"th",25),t.NdJ("click",function(){t.CHM(s);const o=t.oxw();return t.KtG(o.onPriceClick())}),t._uU(10,"Price"),t.qZA(),t.TgZ(11,"th",25),t.NdJ("click",function(){t.CHM(s);const o=t.oxw();return t.KtG(o.onItemClassClick())}),t._uU(12,"Item class"),t.qZA(),t.TgZ(13,"th",25),t.NdJ("click",function(){t.CHM(s);const o=t.oxw();return t.KtG(o.onQuantityClick())}),t._uU(14,"Quantity"),t.qZA()()(),t.TgZ(15,"tbody"),t.YNc(16,k,14,9,"tr",26),t.qZA()()}if(2&e){const s=t.oxw();t.xp6(16),t.Q6J("ngForOf",s.products)}}function x(e,r){if(1&e){const s=t.EpF();t.TgZ(0,"div",28)(1,"app-pager",29),t.NdJ("pageChanged",function(o){t.CHM(s);const n=t.oxw();return t.KtG(n.onPageChanged(o))}),t.qZA()()}if(2&e){const s=t.oxw();t.xp6(1),t.Q6J("totalCount",s.totalCount)("pageSize",s.params.pageSize)("pageNumber",s.params.pageNumber)}}const Z=[{path:"",component:(()=>{class e{constructor(s,c,o,n){this.productService=s,this.accountService=c,this.bcService=o,this.router=n,this.products=[],this.totalCount=0,this.showTable=!0,this.productService.resetParams(),this.params=this.productService.getParams(),this.bcService.set("@productListTitle","My products"),this.accountId=this.accountService.getAccountId()}ngOnInit(){this.params.userId=this.accountId,this.productService.setParams(this.params),this.loadProducts()}loadProducts(){this.productService.getAll().subscribe({next:s=>{this.products=s.data,this.totalCount=s.count}})}onPageChanged(s){const c=this.productService.getParams();c.pageNumber!==s&&(c.pageNumber=s,this.productService.setParams(c),this.params=c,this.loadProducts())}onIdClick(){switch(this.params.sort){case"idDesc":default:this.params.sort="idAsc",this.productService.setParams(this.params);break;case"idAsc":this.params.sort="idDesc",this.productService.setParams(this.params)}this.loadProducts()}onNameClick(){switch(this.params.sort){case"nameDesc":default:this.params.sort="nameAsc",this.productService.setParams(this.params);break;case"nameAsc":this.params.sort="nameDesc",this.productService.setParams(this.params)}this.loadProducts()}onDescriptionClick(){switch(this.params.sort){case"descriptionDesc":default:this.params.sort="descriptionAsc",this.productService.setParams(this.params);break;case"descriptionAsc":this.params.sort="descriptionDesc",this.productService.setParams(this.params)}this.loadProducts()}onItemClassClick(){switch(this.params.sort){case"itemClassDesc":default:this.params.sort="itemClassAsc",this.productService.setParams(this.params);break;case"itemClassAsc":this.params.sort="itemClassDesc",this.productService.setParams(this.params)}this.loadProducts()}onPriceClick(){switch(this.params.sort){case"priceDesc":default:this.params.sort="priceAsc",this.productService.setParams(this.params);break;case"priceAsc":this.params.sort="priceDesc",this.productService.setParams(this.params)}this.loadProducts()}onQuantityClick(){switch(this.params.sort){case"quantityDesc":default:this.params.sort="quantityAsc",this.productService.setParams(this.params);break;case"quantityAsc":this.params.sort="quantityDesc",this.productService.setParams(this.params)}this.loadProducts()}onSearch(){const s=this.productService.getParams();s.search=this.searchTerm?.nativeElement.value,s.pageNumber=1,this.productService.setParams(s),this.params=s,this.loadProducts()}onReset(){this.searchTerm&&(this.searchTerm.nativeElement.value=""),this.params=new l.L,this.params.userId=this.accountId,this.params.pageSize=12,this.productService.setParams(this.params),this.loadProducts()}visit(s){this.router.navigateByUrl(`/account/products/list/${s}`)}}return e.\u0275fac=function(s){return new(s||e)(t.Y36(m.M),t.Y36(h.B),t.Y36(_.pm),t.Y36(u.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-account-products-list"]],viewQuery:function(s,c){if(1&s&&t.Gf(P,5),2&s){let o;t.iGM(o=t.CRH())&&(c.searchTerm=o.first)}},decls:13,vars:8,consts:[[1,"d-flex","mt-2","mb-3"],["type","text","placeholder","Search",1,"form-control","me-2","bg-transparent",3,"keyup.enter"],["search",""],[1,"btn","btn-outline-info","mx-2",3,"click"],[1,"bi","bi-search"],[1,"btn","btn-outline-success","me-2",3,"click"],[1,"btn","btn-outline-secondary",3,"click"],["class","row",4,"ngIf"],["class","d-md-none",4,"ngIf"],["class","table d-none d-md-block",4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],[1,"row"],["class","col-6 col-md-4 col-lg-3",4,"ngFor","ngForOf"],[1,"col-6","col-md-4","col-lg-3"],[3,"item","type"],[1,"d-md-none"],["class","pointer mobile-row row p-3","tabindex","0",3,"routerLink","keyup.enter",4,"ngFor","ngForOf"],["tabindex","0",1,"pointer","mobile-row","row","p-3",3,"routerLink","keyup.enter"],[1,"text-muted","fw-semibold","fst-italic","me-2"],[1,"fs-5","fw-light"],[1,"col"],[1,"fw-light","fst-italic","text-info"],[1,"col","d-flex","justify-content-end"],[1,"text-success"],[1,"table","d-none","d-md-block"],["scope","col pointer",3,"click"],["class","pointer table-row","tabindex","0",3,"routerLink","keyup.enter",4,"ngFor","ngForOf"],["tabindex","0",1,"pointer","table-row",3,"routerLink","keyup.enter"],[1,"d-flex","justify-content-center"],[3,"totalCount","pageSize","pageNumber","pageChanged"]],template:function(s,c){1&s&&(t.TgZ(0,"div",0)(1,"input",1,2),t.NdJ("keyup.enter",function(){return c.onSearch()}),t.qZA(),t.TgZ(3,"button",3),t.NdJ("click",function(){return c.onSearch()}),t._UZ(4,"i",4),t.qZA(),t.TgZ(5,"button",5),t.NdJ("click",function(){return c.onReset()}),t._uU(6,"Reset"),t.qZA(),t.TgZ(7,"button",6),t.NdJ("click",function(){return c.showTable=!c.showTable}),t._UZ(8,"i"),t.qZA()(),t.YNc(9,C,2,1,"div",7),t.YNc(10,b,2,1,"div",8),t.YNc(11,T,17,1,"table",9),t.YNc(12,x,2,3,"div",10)),2&s&&(t.xp6(8),t.ekj("bi-grid",c.showTable)("bi-list-ul",!c.showTable),t.xp6(1),t.Q6J("ngIf",!c.showTable),t.xp6(1),t.Q6J("ngIf",c.showTable),t.xp6(1),t.Q6J("ngIf",c.showTable),t.xp6(1),t.Q6J("ngIf",c.totalCount>0))},dependencies:[a.sg,a.O5,u.rH,g.P,f.A,a.H9],styles:["th[_ngcontent-%COMP%]{cursor:pointer!important}.mobile-row[_ngcontent-%COMP%]:focus, .table-row[_ngcontent-%COMP%]:focus{background-color:#006a8c}.mobile-row[_ngcontent-%COMP%]:focus   *[_ngcontent-%COMP%], .table-row[_ngcontent-%COMP%]:focus   *[_ngcontent-%COMP%]{color:#fff!important}"]}),e})(),data:{breadcrumb:{alias:"productListTitle"}}},{path:":id",loadChildren:()=>Promise.all([i.e(592),i.e(377)]).then(i.bind(i,1377)).then(e=>e.AccountProductDetailModule),data:{breadcrumb:{alias:"productName"}}}];let L=(()=>{class e{}return e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.Bz.forChild(Z),u.Bz]}),e})();var S=i(4466);let y=(()=>{class e{}return e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[a.ez,L,S.m]}),e})()}}]);