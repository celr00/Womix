"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[680],{6680:(I,l,n)=>{n.r(l),n.d(l,{AccountProductsModule:()=>y});var u=n(6895),i=n(2559),e=n(433),t=n(1571),m=n(8909),p=n(5528),a=n(5329),f=n(7185),g=n(4015);function v(c,r){if(1&c&&(t.TgZ(0,"option",18),t.ALo(1,"number"),t._uU(2),t.qZA()),2&c){const o=r.$implicit;t.s9C("value",t.lcZ(1,2,o.id)),t.xp6(2),t.hij(" ",o.name," ")}}function h(c,r){if(1&c&&(t.TgZ(0,"div",13)(1,"div",14)(2,"select",15),t.YNc(3,v,3,4,"option",16),t.qZA(),t.TgZ(4,"label",17),t._uU(5,"Product type"),t.qZA()()()),2&c){const o=t.oxw(2);t.xp6(2),t.Q6J("formControl",o.productForm.controls.productItemClass.get("itemClassId")),t.xp6(1),t.Q6J("ngForOf",o.types)}}function A(c,r){if(1&c){const o=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(o);const d=t.oxw();return t.KtG(d.onSubmit())}),t.TgZ(1,"div",2)(2,"div",3)(3,"div",4),t._UZ(4,"app-text-input",5),t.qZA()(),t.TgZ(5,"div",3)(6,"div",4),t._UZ(7,"app-text-input",5),t.qZA()(),t.TgZ(8,"div",3)(9,"div",4)(10,"div",3)(11,"div",6),t._UZ(12,"app-text-input",7),t.qZA(),t.TgZ(13,"div",6),t._UZ(14,"app-text-input",7),t.qZA()()()(),t.TgZ(15,"div",8),t.YNc(16,h,6,2,"div",9),t.qZA(),t.TgZ(17,"div",3)(18,"div",10)(19,"button",11),t._uU(20,"Add product "),t._UZ(21,"i",12),t.qZA()()()()()}if(2&c){const o=t.oxw();t.Q6J("formGroup",o.productForm),t.xp6(4),t.Q6J("label","Name")("formControl",o.productForm.controls.name),t.xp6(3),t.Q6J("label","Description")("formControl",o.productForm.controls.description),t.xp6(5),t.Q6J("label","Price")("type","number")("formControl",o.productForm.controls.price),t.xp6(2),t.Q6J("label","Quantity")("type","number")("formControl",o.productForm.controls.stockQuantity),t.xp6(2),t.Q6J("ngIf",o.productForm.get("productItemClass")),t.xp6(3),t.Q6J("disabled",o.productForm.invalid)}}const C=[{path:"new",component:(()=>{class c{constructor(o,s,d,Z,P,F){this.bcService=o,this.productService=s,this.fb=d,this.accountService=Z,this.router=P,this.toastr=F,this.productForm=new e.cw({}),this.types=[],this.user={},this.bcService.set("@newProductTitle","Create a new product")}ngOnInit(){this.loadTypes()}onSubmit(){this.productService.add(this.productForm.value).subscribe({next:()=>{this.toastr.success("Product added successfully"),this.router.navigateByUrl("/account/products/list")}})}initForm(o,s){this.productForm=this.fb.group({name:["",[e.kI.required,e.kI.minLength(10),e.kI.maxLength(100)]],description:["",[e.kI.required,e.kI.minLength(10),e.kI.maxLength(100)]],price:["",[e.kI.required]],stockQuantity:["",[e.kI.required]],userProduct:this.fb.group({userId:[s,[e.kI.required]]}),productItemClass:this.fb.group({itemClassId:[o,[e.kI.required]]})})}loadTypes(){this.productService.getTypes().subscribe({next:o=>{this.types=o},complete:()=>{this.loadUser()}})}loadUser(){this.accountService.getUser().subscribe({next:o=>{this.user=o},complete:()=>{this.initForm(this.types[0].id,this.user.id)}})}}return c.\u0275fac=function(o){return new(o||c)(t.Y36(m.pm),t.Y36(p.M),t.Y36(e.qu),t.Y36(a.B),t.Y36(i.F0),t.Y36(f._W))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-account-products-new"]],decls:1,vars:1,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"container-fluid","container-md"],[1,"row"],[1,"col-12","col-sm-10","col-md-6","col-lg-4"],[3,"label","formControl"],[1,"col-6"],[3,"label","type","formControl"],[1,"row","mb-3"],["class","col-12 col-sm col-md-6 col-lg-4",4,"ngIf"],[1,"col","d-flex"],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"fa","fa-check","ms-2"],[1,"col-12","col-sm","col-md-6","col-lg-4"],["id","floatingSelect",1,"form-floating"],[1,"form-select",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["for","floatingSelect"],[3,"value"]],template:function(o,s){1&o&&t.YNc(0,A,22,13,"form",0),2&o&&t.Q6J("ngIf",s.types&&s.productForm&&s.user)},dependencies:[u.sg,u.O5,g.t,e._Y,e.YN,e.Kr,e.EJ,e.JJ,e.JL,e.oH,e.sg,u.JJ]}),c})(),data:{breadcrumb:{alias:"newProductTitle"}}},{path:"list",loadChildren:()=>Promise.all([n.e(592),n.e(988)]).then(n.bind(n,3988)).then(c=>c.AccountProductsListModule)}];let b=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[i.Bz.forChild(C),i.Bz]}),c})();var x=n(4466);let y=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[u.ez,b,x.m]}),c})()}}]);