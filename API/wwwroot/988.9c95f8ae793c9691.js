"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[988],{3988:(S,u,a)=>{a.r(u),a.d(u,{AccountProductsListModule:()=>k});var o=a(6895),n=a(2559),p=a(4020),t=a(1571),d=a(5528),m=a(5329),l=a(8909),h=a(7696);const P=["search"];function A(e,i){if(1&e&&(t.TgZ(0,"tr",10)(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"currency"),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA()()),2&e){const s=i.$implicit;t.MGl("routerLink","/account/products/list/",s.id,""),t.xp6(2),t.hij(" ",s.id," "),t.xp6(2),t.hij(" ",s.name," "),t.xp6(2),t.hij(" ",s.description," "),t.xp6(2),t.hij(" ",t.lcZ(9,7,s.price)," "),t.xp6(3),t.hij(" ",s.productItemClass.itemClass.name," "),t.xp6(2),t.hij(" ",s.stockQuantity," ")}}function C(e,i){if(1&e){const s=t.EpF();t.TgZ(0,"table",7)(1,"thead")(2,"tr")(3,"th",8),t.NdJ("click",function(){t.CHM(s);const r=t.oxw();return t.KtG(r.onIdClick())}),t._uU(4,"#"),t.qZA(),t.TgZ(5,"th",8),t.NdJ("click",function(){t.CHM(s);const r=t.oxw();return t.KtG(r.onNameClick())}),t._uU(6,"Name"),t.qZA(),t.TgZ(7,"th",8),t.NdJ("click",function(){t.CHM(s);const r=t.oxw();return t.KtG(r.onDescriptionClick())}),t._uU(8,"Description"),t.qZA(),t.TgZ(9,"th",8),t.NdJ("click",function(){t.CHM(s);const r=t.oxw();return t.KtG(r.onPriceClick())}),t._uU(10,"Price"),t.qZA(),t.TgZ(11,"th",8),t.NdJ("click",function(){t.CHM(s);const r=t.oxw();return t.KtG(r.onItemClassClick())}),t._uU(12,"Item class"),t.qZA(),t.TgZ(13,"th",8),t.NdJ("click",function(){t.CHM(s);const r=t.oxw();return t.KtG(r.onQuantityClick())}),t._uU(14,"Quantity"),t.qZA()()(),t.TgZ(15,"tbody"),t.YNc(16,A,14,9,"tr",9),t.qZA()()}if(2&e){const s=t.oxw();t.xp6(16),t.Q6J("ngForOf",s.products)}}function g(e,i){if(1&e){const s=t.EpF();t.TgZ(0,"div",11)(1,"app-pager",12),t.NdJ("pageChanged",function(r){t.CHM(s);const _=t.oxw();return t.KtG(_.onPageChanged(r))}),t.qZA()()}if(2&e){const s=t.oxw();t.xp6(1),t.Q6J("totalCount",s.totalCount)("pageSize",s.params.pageSize)("pageNumber",s.params.pageNumber)}}const v=[{path:"",component:(()=>{class e{constructor(s,c,r){this.productService=s,this.accountService=c,this.bcService=r,this.user={},this.products=[],this.totalCount=0,this.productService.resetParams(),this.params=this.productService.getParams(),this.bcService.set("@productListTitle","My products")}ngOnInit(){this.loadUser()}loadUser(){this.accountService.getUser().subscribe({next:s=>{this.user=s},complete:()=>{this.params.userId=this.user.id,this.productService.setParams(this.params),this.loadProducts()}})}loadProducts(){this.productService.getAll().subscribe({next:s=>{this.products=s.data,this.totalCount=s.count}})}onPageChanged(s){const c=this.productService.getParams();c.pageNumber!==s&&(c.pageNumber=s,this.productService.setParams(c),this.params=c,this.loadProducts())}onIdClick(){switch(this.params.sort){case"idDesc":default:this.params.sort="idAsc",this.productService.setParams(this.params);break;case"idAsc":this.params.sort="idDesc",this.productService.setParams(this.params)}this.loadProducts()}onNameClick(){switch(this.params.sort){case"nameDesc":default:this.params.sort="nameAsc",this.productService.setParams(this.params);break;case"nameAsc":this.params.sort="nameDesc",this.productService.setParams(this.params)}this.loadProducts()}onDescriptionClick(){switch(this.params.sort){case"descriptionDesc":default:this.params.sort="descriptionAsc",this.productService.setParams(this.params);break;case"descriptionAsc":this.params.sort="descriptionDesc",this.productService.setParams(this.params)}this.loadProducts()}onItemClassClick(){switch(this.params.sort){case"itemClassDesc":default:this.params.sort="itemClassAsc",this.productService.setParams(this.params);break;case"itemClassAsc":this.params.sort="itemClassDesc",this.productService.setParams(this.params)}this.loadProducts()}onPriceClick(){switch(this.params.sort){case"priceDesc":default:this.params.sort="priceAsc",this.productService.setParams(this.params);break;case"priceAsc":this.params.sort="priceDesc",this.productService.setParams(this.params)}this.loadProducts()}onQuantityClick(){switch(this.params.sort){case"quantityDesc":default:this.params.sort="quantityAsc",this.productService.setParams(this.params);break;case"quantityAsc":this.params.sort="quantityDesc",this.productService.setParams(this.params)}this.loadProducts()}onSearch(){const s=this.productService.getParams();s.search=this.searchTerm?.nativeElement.value,s.pageNumber=1,this.productService.setParams(s),this.params=s,this.loadProducts()}onReset(){this.searchTerm&&(this.searchTerm.nativeElement.value=""),this.params=new p.L,this.params.userId=this.user.id,this.params.pageSize=12,this.productService.setParams(this.params),this.loadProducts()}}return e.\u0275fac=function(s){return new(s||e)(t.Y36(d.M),t.Y36(m.B),t.Y36(l.pm))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-account-products-list"]],viewQuery:function(s,c){if(1&s&&t.Gf(P,5),2&s){let r;t.iGM(r=t.CRH())&&(c.searchTerm=r.first)}},decls:9,vars:2,consts:[[1,"d-flex","mt-2","mb-3"],["category","text","placeholder","Search",1,"form-control","me-2","bg-transparent",3,"keyup.enter"],["search",""],[1,"btn","btn-outline-primary","mx-2",3,"click"],[1,"btn","btn-outline-success",3,"click"],["class","table",4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],[1,"table"],["scope","col pointer",3,"click"],["class","pointer",3,"routerLink",4,"ngFor","ngForOf"],[1,"pointer",3,"routerLink"],[1,"d-flex","justify-content-center"],[3,"totalCount","pageSize","pageNumber","pageChanged"]],template:function(s,c){1&s&&(t.TgZ(0,"div",0)(1,"input",1,2),t.NdJ("keyup.enter",function(){return c.onSearch()}),t.qZA(),t.TgZ(3,"button",3),t.NdJ("click",function(){return c.onSearch()}),t._uU(4,"Search"),t.qZA(),t.TgZ(5,"button",4),t.NdJ("click",function(){return c.onReset()}),t._uU(6,"Reset"),t.qZA()(),t.YNc(7,C,17,1,"table",5),t.YNc(8,g,2,3,"div",6)),2&s&&(t.xp6(7),t.Q6J("ngIf",c.user),t.xp6(1),t.Q6J("ngIf",c.totalCount>0))},dependencies:[o.sg,o.O5,n.rH,h.P,o.H9],styles:["th[_ngcontent-%COMP%]{cursor:pointer!important}"]}),e})(),data:{breadcrumb:{alias:"productListTitle"}}},{path:":id",loadChildren:()=>Promise.all([a.e(592),a.e(377)]).then(a.bind(a,1377)).then(e=>e.AccountProductDetailModule),data:{breadcrumb:{alias:"productName"}}}];let f=(()=>{class e{}return e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[n.Bz.forChild(v),n.Bz]}),e})();var b=a(4466);let k=(()=>{class e{}return e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[o.ez,f,b.m]}),e})()}}]);