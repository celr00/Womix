"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[991],{5991:(S,l,c)=>{c.r(l),c.d(l,{AccountModule:()=>x});var p=c(6895),a=c(2559),s=c(433),e=c(1571),u=c(5329),m=c(8909),h=c(7185),f=c(4015),g=c(4897);function A(o,r){if(1&o&&(e.TgZ(0,"div",3)(1,"h3"),e._uU(2,"Address"),e.qZA(),e.TgZ(3,"div",11),e._UZ(4,"app-text-input",5),e.qZA(),e.TgZ(5,"div",12),e._UZ(6,"app-text-input",5),e.qZA(),e.TgZ(7,"div",13),e._UZ(8,"app-text-input",5),e.qZA(),e.TgZ(9,"div",14),e._UZ(10,"app-text-input",5),e.qZA(),e.TgZ(11,"div",15),e._UZ(12,"app-text-input",5),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(4),e.Q6J("label","Number")("formControl",t.userForm.controls.appUserAddress.get("address").get("number")),e.xp6(2),e.Q6J("label","Street")("formControl",t.userForm.controls.appUserAddress.get("address").get("street")),e.xp6(2),e.Q6J("label","City")("formControl",t.userForm.controls.appUserAddress.get("address").get("city")),e.xp6(2),e.Q6J("label","State")("formControl",t.userForm.controls.appUserAddress.get("address").get("state")),e.xp6(2),e.Q6J("label","Zipcode")("formControl",t.userForm.controls.appUserAddress.get("address").get("zipcode"))}}function v(o,r){if(1&o&&(e.TgZ(0,"div",2)(1,"div",3)(2,"div",4),e._UZ(3,"app-text-input",5),e.qZA(),e.TgZ(4,"div",4),e._UZ(5,"app-text-input",5),e.qZA(),e.TgZ(6,"div",6),e._UZ(7,"app-date-picker",5),e.qZA(),e.TgZ(8,"div",6),e._UZ(9,"app-text-input",5),e.qZA()(),e.TgZ(10,"div",3)(11,"h3"),e._uU(12,"Social media"),e.qZA(),e.TgZ(13,"div",7),e._UZ(14,"app-text-input",5),e.qZA(),e.TgZ(15,"div",7),e._UZ(16,"app-text-input",5),e.qZA()(),e.YNc(17,A,13,10,"div",8),e.TgZ(18,"button",9),e._uU(19,"Save changes "),e._UZ(20,"i",10),e.qZA()()),2&o){const t=e.oxw();e.xp6(3),e.Q6J("label","First name")("formControl",t.userForm.controls.firstName),e.xp6(2),e.Q6J("label","Last name")("formControl",t.userForm.controls.lastName),e.xp6(2),e.Q6J("label","Birth date")("formControl",t.userForm.controls.dateOfBirth),e.xp6(2),e.Q6J("label","Phone number")("formControl",t.userForm.controls.phoneNumber),e.xp6(5),e.Q6J("label","Facebook")("formControl",t.userForm.controls.facebook),e.xp6(2),e.Q6J("label","Instagram")("formControl",t.userForm.controls.instagram),e.xp6(1),e.Q6J("ngIf",t.userForm.controls.appUserAddress.get("address")),e.xp6(1),e.Q6J("disabled",!t.userForm.dirty||t.userForm.invalid)}}let C=(()=>{class o{constructor(t,n,i,d,I,P){this.accountService=t,this.fb=n,this.route=i,this.bcService=d,this.toastr=I,this.router=P,this.userForm=new s.cw({}),this.user={},this.maxDate=new Date,this.bcService.set("@editProfileTitle","Edit Profile")}ngOnInit(){this.loadUser(),this.maxDate.setFullYear(this.maxDate.getFullYear()-18)}onSubmit(){this.accountService.update(this.userForm.value).subscribe({next:t=>{this.user=t,this.userForm.reset(),this.userForm.patchValue(t),this.toastr.success("User updated successfully")},error:()=>{}})}loadUser(){this.accountService.getUserEntity().subscribe({next:t=>{this.user=t},complete:()=>{this.initForm(this.user.dateOfBirth)}})}initForm(t){this.userForm=this.fb.group({firstName:["",[s.kI.required]],lastName:["",[s.kI.required]],dateOfBirth:[t,[s.kI.required]],facebook:["",[s.kI.required]],instagram:["",[s.kI.required]],phoneNumber:["",[s.kI.required]],appUserPhoto:this.fb.group({userId:["",[s.kI.required]],photoId:["",[s.kI.required]],photo:this.fb.group({url:["",[s.kI.required]],id:["",[s.kI.required]]})}),appUserAddress:this.fb.group({userId:["",[s.kI.required]],addressId:["",[s.kI.required]],address:this.fb.group({number:["",[s.kI.required]],street:["",[s.kI.required]],city:["",[s.kI.required]],state:["",[s.kI.required]],zipcode:["",[s.kI.required]],id:["",[s.kI.required]]})})}),this.userForm.patchValue(this.user)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.B),e.Y36(s.qu),e.Y36(a.gz),e.Y36(m.pm),e.Y36(h._W),e.Y36(a.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-account-edit"]],decls:2,vars:2,consts:[[1,"mb-4",3,"formGroup","ngSubmit"],["class","container-fluid container-md",4,"ngIf"],[1,"container-fluid","container-md"],[1,"row"],[1,"col-12","col-sm-6","col-md-4","col-lg-4"],[3,"label","formControl"],[1,"col-12","col-sm-6","col-md-4","col-lg-3"],[1,"col-12","col-sm-6","col-md-5","col-lg-4"],["class","row",4,"ngIf"],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"fa","fa-floppy-o","ms-2"],[1,"col-4","col-sm-3","col-md-3","col-lg-2"],[1,"col-8","col-sm-9","col-md-4","col-lg-3"],[1,"col-12","col-sm-7","col-md-5","col-lg-4"],[1,"col-8","col-sm-5","col-md-4","col-lg-3"],[1,"col-4","col-sm-4","col-md-3","col-lg-2"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.YNc(1,v,21,14,"div",1),e.qZA()),2&t&&(e.Q6J("formGroup",n.userForm),e.xp6(1),e.Q6J("ngIf",n.user))},dependencies:[p.O5,f.t,g.L,s._Y,s.JJ,s.JL,s.oH,s.sg]}),o})();var Z=c(1106);const b=[{path:"summary",component:(()=>{class o{constructor(t){this.accountService=t,this.user={}}ngOnInit(){this.loadUser()}loadUser(){this.accountService.getUser().subscribe({next:t=>{this.user=t}})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.B))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-account-home"]],decls:1,vars:1,consts:[[3,"user"]],template:function(t,n){1&t&&e._UZ(0,"app-user-card",0),2&t&&e.Q6J("user",n.user)},dependencies:[Z.r]}),o})()},{path:"edit",component:C,data:{breadcrumb:{alias:"editProfileTitle"}}},{path:"products",component:(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-account-products"]],decls:1,vars:0,template:function(t,n){1&t&&e._UZ(0,"router-outlet")},dependencies:[a.lC]}),o})(),loadChildren:()=>Promise.all([c.e(592),c.e(680)]).then(c.bind(c,6680)).then(o=>o.AccountProductsModule)},{path:"services",component:(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-services"]],decls:1,vars:0,template:function(t,n){1&t&&e._UZ(0,"router-outlet")},dependencies:[a.lC]}),o})(),loadChildren:()=>Promise.all([c.e(592),c.e(734)]).then(c.bind(c,4734)).then(o=>o.ServicesModule)},{path:"saved-profiles",component:(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-account-saved-profiles"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"account-saved-profiles works!"),e.qZA())}}),o})()},{path:"messages",component:(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-account-messages"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"account-messages works!"),e.qZA())}}),o})()},{path:"change-password",component:(()=>{class o{constructor(t,n,i,d){this.bcService=t,this.fb=n,this.accountService=i,this.toastr=d,this.passwordForm=new s.cw({}),this.complexPassword="(?=^.{6,255}$)((?=.*d)(?=.*[A-Z])(?=.*[a-z])|(?=.*d)(?=.*[^A-Za-z0-9])(?=.*[a-z])|(?=.*[^A-Za-z0-9])(?=.*[A-Z])(?=.*[a-z])|(?=.*d)(?=.*[A-Z])(?=.*[^A-Za-z0-9]))^.*",this.bcService.set("@changePassword","Change password")}ngOnInit(){this.initForm()}initForm(){this.passwordForm=this.fb.group({currentPassword:["",[s.kI.required,s.kI.minLength(8),s.kI.maxLength(60)]],newPassword:["",[s.kI.required,s.kI.minLength(8),s.kI.maxLength(60),s.kI.pattern(this.complexPassword)]],repeatNewPassword:["",[s.kI.required,s.kI.minLength(8),s.kI.maxLength(60),this.matchValues("newPassword")]]}),this.passwordForm.controls.newPassword.valueChanges.subscribe({next:()=>this.passwordForm.controls.repeatNewPassword.updateValueAndValidity()})}matchValues(t){return n=>n.value===n.parent?.get(t)?.value?null:{notMatching:!0}}onSubmit(){this.accountService.resetPassword(this.passwordForm.value).subscribe({next:()=>{this.toastr.success("Password changed successfully"),this.passwordForm.reset()},error:()=>{}})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(m.pm),e.Y36(s.qu),e.Y36(u.B),e.Y36(h._W))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-account-change-password"]],decls:8,vars:11,consts:[[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-12","col-sm-10","col-md-6","col-lg-4"],[3,"label","formControl","type"],["type","submit",1,"btn","btn-success",3,"disabled"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(1,"div",1)(2,"div",2),e._UZ(3,"app-text-input",3)(4,"app-text-input",3)(5,"app-text-input",3),e.qZA()(),e.TgZ(6,"button",4),e._uU(7,"Submit"),e.qZA()()),2&t&&(e.Q6J("formGroup",n.passwordForm),e.xp6(3),e.Q6J("label","Current password")("formControl",n.passwordForm.controls.currentPassword)("type","password"),e.xp6(1),e.Q6J("label","New password")("formControl",n.passwordForm.controls.newPassword)("type","password"),e.xp6(1),e.Q6J("label","Repeat password")("formControl",n.passwordForm.controls.repeatNewPassword)("type","password"),e.xp6(1),e.Q6J("disabled",n.passwordForm.invalid))},dependencies:[f.t,s._Y,s.JJ,s.JL,s.oH,s.sg]}),o})(),data:{breadcrumb:{alias:"changePassword"}}}];let w=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[a.Bz.forChild(b),a.Bz]}),o})();var F=c(4466);let x=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.ez,w,F.m]}),o})()}}]);