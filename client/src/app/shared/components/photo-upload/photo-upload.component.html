<ng-container>
  <div class="row mb-3">
    <div class="col-6 col-sm-4 col-md-3" *ngFor="let photo of photos">
      <img src="{{ photo.url }}" class="img-thumbnail mb-1" />
      <div class="text-center">
        <button class="btn btn-close" (click)="delete(photo.id)" ></button>
      </div>
    </div>
  </div>
</ng-container>
<div class="col-12 col-md-3">
  <div
    class="card bg-faded p-3 text-center mb-3 my-drop-zone"
    [ngClass]="{ 'nv-file-over': hasBaseDropzoneOver }"
    (fileOver)="fileOverBase($event)" [uploader]="uploader!" ng2FileDrop >
    <i class="fa fa-upload fa-3x"></i>Drop photos here
  </div>

  <div class="mb-3">
    <label for="formFile" class="form-label">Fotos</label>
    <input
      class="form-control"
      type="file"
      id="formFile"
      ng2FileSelect
      [uploader]="uploader!"
      multiple
    />
  </div>
</div>

<div
  class="col-12 col-md-9"
  style="margin-bottom: 40px"
  *ngIf="uploader?.queue?.length"
>
  <h3>Upload queue</h3>
  <p>Queue length: {{ uploader?.queue?.length }}</p>

  <table class="table">
    <thead>
      <tr>
        <th width="100%">Name</th>
        <th>Size</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of uploader!.queue">
        <td>
          <strong>{{ item?.file?.name }}</strong>
        </td>
        <td *ngIf="uploader?.options?.isHTML5" nowrap>
          {{ item?.file?.size / 1024 / 1024 | number : ".2" }} MB
        </td>
      </tr>
    </tbody>
  </table>

  <div>
    <div class="mb-3">
      <div class="progress">
        <div
          class="progress-bar progress-bar-striped progress-bar-animated"
          role="progressbar"
          [ngStyle]="{ width: uploader?.progress + '%' }"
        ></div>
      </div>
    </div>
    <div class="mb-3">
      <button
        type="button"
        class="btn btn-outline-success me-2 btn-sm"
        (click)="uploader?.uploadAll()"
        [disabled]="!uploader?.getNotUploadedItems()?.length"
      >
        <span class="fa fa-upload"></span> Upload all
      </button>
      <button
        type="button"
        class="btn btn-outline-warning me-2 btn-sm"
        (click)="uploader?.cancelAll()"
        [disabled]="!uploader?.isUploading"
      >
        <span class="fa fa-ban"></span> Cancel all
      </button>
      <button
        type="button"
        class="btn btn-outline-danger me-2 btn-sm"
        (click)="uploader?.clearQueue()"
        [disabled]="!uploader?.queue?.length"
      >
        <span class="fa fa-trash"></span> Remove all
      </button>
    </div>
  </div>
</div>
